# X86处理器的中断与异常

X86处理器中存在实模式和保护模式









### 中断/异常的硬件处理过程

1. 确定与中断或异常关联的**向量**i；
2. 通过IDTR寄存器找到IDT表，获得**中断描述符**；
3. 从GDTR寄存器获得GDT的地址；结合中断描述符中的**段选择符**，在GDT表获取对应的**段描述符**；从该段描述符中得到中断或异常处理程序所在的**段基址**；
4. 特权级检查；
5. 检查是否发生特权级的变化，如果发生，进行 堆栈切换；
6. 硬件压栈，保存上下文环境；若异常产生硬件出错码，则将其保存于栈中；
7. 若是中断，清空IF位；
8. 通过中断描述符中的**段内偏移量**和段描述符中的**基地址**，找到中断/异常处理程序的入口地址， 执行其第一条指令。